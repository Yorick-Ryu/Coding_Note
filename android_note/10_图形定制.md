# 图形定制

- [图形定制](#图形定制)
  - [图形Drawable](#图形drawable)
  - [形状图形](#形状图形)
  - [九宫格图片](#九宫格图片)
  - [状态列表图形](#状态列表图形)

## 图形Drawable

Drawable类型表达了各种各样的图形，包括图片、色块、画板、背景等。

包含图片在内的图形文件放在res目录的各个drawable目录下，其中drawable目录一般保存描述性的XML文件，而图片文件一般放在具体分辨率的drawable目录下。


- drawable-ldpi里面存放低分辨率的图片(如240×320)，现在基本没有这样的智能手机了。
- drawable-mdpi里面存放中等分辨率的图片(如320×480)，这样的智能手机已经很少了。
- drawable-hdpi里面存放高分辨率的图片(如480×800)，一般对应4英寸～4.5英寸的手机（但不绝对，同尺寸的手机有可能分辨率不同，手机分辨率就高不就低，因为分辨率低了屏幕会有模糊的感觉)。
- drawable-xhdpi里面存放加高分辨率的图片(如720×1280)，一般对应5英寸~5.5英寸的手机。
- drawable-xxhdpi里面存放超高分辨率的图片(如1080×1920)，一般对应6英寸~6.5英寸的手机。
- drawable-xxxhdpi里面存放超超高分辨率的图片(如1440×2560)，一般对应7英寸以上的平板电脑。

基本上，分辨率每加大一级，宽度和高度就要增加二分之一或三分之一像素。如果各目录存在同名图片，Android就会根据手机的分辨率分别适配对应文件夹里的图片。在开发App时，为了兼容不同的手机屏幕，在各目录存放不同分辨率的图片，才能达到最合适的显示效果。例如，在drawable-hdpi放了一张背景图片bg.png(分辨率为480×800)，其他目录没放，使用分辨率为480×800的手机查看该App界面没有问题，但是使用分辨率为720X1280的手机查看该App会发现背景图片有点模糊，原因是Android为了让bg.png适配高分辨率的屏幕，强行把bg.png拉伸到了720×1280，拉伸的后果是图片变模糊了。

各视图的background属性、ImageView和 lmageButton的src属性、TextView和Button四个方向的drawable***系列属性都可以引用图形文件。

## 形状图形

形状图形的定义文件放在drawable目录下，它是以shape标签为根节点的XML描述文件。根节点下定义了6个节点，分别是: size(尺寸) 、stroke(描边)、corners(圆角) 、solid (填充) 、padding (间隔)、gradient (渐变)，各节点的属性值主要是长宽、半径、角度以及颜色等。下面是形状图形各个节点及其属性的简要说明。

（1）shape

shape图形又称形状图形，它用来描述常见的几何形状，包括矩形、圆角矩形、圆形、椭圆等等。

形状图形的定义文件是以shape标签为根节点的XML描述文件，它支持四种类型的形状：

- rectangle：矩形。默认值
- oval：椭圆。此时corners节点会失效
- line：直线。此时必须设置stroke节点，不然会报错
- ring：圆环

（2）size (尺寸)

size是shape的下级节点，它描述了形状图形的宽高尺寸。若无size节点，则表示宽高与宿主视图一样大小。下面是size节点的常用属性说明。
- height：像素类型，图形高度。 
- width：像素类型，图形宽度。

（3）stroke (描边)

stroke是shape的下级节点，它描述了形状图形的描边规格。若无stroke节点，则表示不存在描边。下面是stroke节点的常用属性说明。
- color：颜色类型，描边的颜色。
- dashGap：像素类型，每段虚线之间的间隔。
- dashWidth：像素类型，每段虚线的宽度。若dashGap和dashWidth有一个值为0，则描边为实线。
- width：像素类型，描边的厚度。

（4）corners(圆角)

corners是shape的下级节点，它描述了形状图形的圆角大小。若无corners节点，则表示没有圆角。下面是corners节点的常用属性说明。
- bottomLeftRadius：像素类型，左下圆角的半径。
- bottomRightRadius：像素类型，右下圆角的半径。
- topLeftRadius：像素类型，左上圆角的半径。
- topRightRadius：像素类型，右上圆角的半径。
- radius：像素类型，4个圆角的半径（若有上面4个圆角半径的定义，则不需要radius定义）。

（5）solid(填充)

solid是shape的下级节点，它描述了形状图形的填充色彩。若无solid节点，则表示无填充颜色。下面是solid节点的常用属性说明。.
- color:颜色类型，内部填充的颜色。


（6）padding(间隔)

padding是shape的下级节点，它描述了形状图形与周围边界的间隔。若无padding节点，则表示四周不设间隔。下面是padding节点的常用属性说明。
- top：像素类型，与上方的间隔。
- bottom：像素类型，与下方的间隔。
- left：像素类型，与左边的间隔。
- right：像素类型，与右边的间隔。

（7）gradient(渐变)

gradient是shape的下级节点，它描述了形状图形的颜色渐变。若无gradient节点，则表示没有渐变效果。下面是gradient节点的常用属性说明。
- angle：整型，渐变的起始角度。为0时表示时钟的9点位置，值增大表示往逆时针方向旋转。例如，值为90表示6点位置，值为180表
示3点位置，值为270表示0点/12点位置。
- type：字符串类型，渐变类型。渐变类型的取值说明见表。


| 渐变类型 | 说明                                            |
| -------- | ----------------------------------------------- |
| linear   | 线性渐变，默认值                                |
| radial   | 放射渐变，起始颜色就是圆心颜色                  |
| sweep    | 滚动渐变，即一个线段以某个端点为圆心做360度旋转 |

- centerX：浮点型，圆心的X坐标。当`android:type="linear"`时不可用。
- centerY：浮点型，圆心的Y坐标。当`android:type="linear"`时不可用。
- gradientRadius：整型，渐变的半径。当`android:type="radial"`时需要设置该属性。
- centerColor：颜色类型，渐变的中间颜色。
- startColor：颜色类型，渐变的起始颜色。
- endColor:颜色类型，渐变的终止颜色。
- useLevel:布尔类型，设置为true为无渐变色、false为有渐变色。


在实际开发中，形状图形主要使用3个节点: stroke(描边) .corners(圆角)）和solid(填充)。至于shape根节点的属性一般不用设置(默认矩形即可)。

## 九宫格图片

后缀： `.9.png`

[点九图片视频讲解](https://www.bilibili.com/video/BV19U4y1R7zV?p=49)

上左侧黑线控制拉伸范围
下右侧黑线控制内容范围

## 状态列表图形

Button按钮的背景在正常情况下是凸起的，在按下时是凹陷的，从按下到弹起的过程，用户便能知道点击了这个按钮。

状态列表图形不仅用于按钮控件，还可用于其他拥有多种状态的控件。

| 状态类型的属性名称 | 说明         | 适用的控件                          |
| ------------------ | ------------ | ----------------------------------- |
| state_pressed      | 是否按下     | 按钮Button                          |
| state_checked      | 是否勾选     | 复选框CheckBox、单选按钮RadioButton |
| state_focused      | 是否获取焦点 | 文本编辑框EditText                  |
| state_selected     | 是否选中     | 各控件通用                          |
